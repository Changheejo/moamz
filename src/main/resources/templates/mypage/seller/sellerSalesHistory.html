<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/css/reset2.css}">
    <link rel="stylesheet" th:href="@{/css/mypage/seller/sellerSalesHistory.css}">
    <script defer th:src="@{/js/mypage/seller/sellerSalesHistory.js}"></script>
    <title>상품판매내역</title>
</head>
<body>
    <header id="header" th:replace="~{/main/fragment/header/sellerHeader}"></header>
    <main>
        <section id="side-section" th:replace="~{/mypage/seller/sellerMypageSide}"></section>

        <!-- 상품판매내역 영역-->
        <section class="sales-history-section">
            <!-- 제목 -->
            <div class="mypage-title-wrap">
                <img th:src="@{/img/mypage/seller/shopping_bag_icon.png}" alt="쇼핑백아이콘">
                상품판매내역
            </div>
            <!-- 상품상태 카테고리 -->
            <div class="sales-history-menu">
                <div id="product-ready-btn" class="menu-btn active" onclick="showList('ready')">상품준비</div>
                <div id="product-pickup-btn" class="menu-btn" onclick="showList('pickup')">픽업대기</div>
                <div id="product-completed-btn" class="menu-btn" onclick="showList('completed')">픽업완료</div>
            </div>
            <!-- 상품준비 목록 -->
            <div id="product-ready-list" class="sales-history-container">
                <ul id="sales-product-ready-list">
                    <li class="product-list" th:each="salesListDTO : ${readyList}" th:data-id="${salesListDTO.orderId}">
                        <div class="order-info">
                            <span class="order-time" th:text="${salesListDTO.orderDate}">주문시간</span>
                            <button type="button" class="ready-complete-btn">상품 준비 완료</button>
                        </div>
                        <div class="product-info">
                            <!-- 상품이미지 -->
                            <div class="product-item-img"
                                     th:style="'background-image: url(/upload_moamz/' + ${salesListDTO.productFileRoot}
                                    + '/' +  ${salesListDTO.productFileUuid} + '_' + ${salesListDTO.productFileName} + ')' ">
                            </div>
                            <div class="product-wrap">
                                <p class="list-title" th:text="${salesListDTO.productName}">상품명</p>
                                <span th:text="${salesListDTO.orderPerPrice}">상품가격</span>원
                            </div>
                            <div class="time_wrap">
                                <p class="list-title">픽업예정시간</p>
                                <p th:text="${salesListDTO.pickupSchedule}">픽업예정시간</p>
                            </div>
                            <div class="nickname-wrap">
                                <p class="list-title">고객명</p>
                                <p th:text="${salesListDTO.normalNickname}">고객이름</p>
                            </div>
                            <div class="request-wrap">
                                <p class="list-title">요청사항</p>
                                <p th:text="${salesListDTO.pickupRequest}">고객 요청사항</p>
                            </div>
                        </div>
                        <div>
                            <p class="move-to-detail" onclick="location.href=`seller/sales/detail/${salesListDTO.orderId}`">자세히 보러가기 ></p>
                        </div>
                    </li>
                </ul>
            </div>
            <!-- 픽업대기 목록 -->
            <div id="product-pickup-list" class="sales-history-container hidden">
                <ul id="sales-pickup-ready-list">
                    <li class="product-list" th:each="salesListDTO : ${pickupList}" th:data-id="${salesListDTO.orderId}">
                        <div class="order-info">
                            <span class="order-time" th:text="${salesListDTO.orderDate}">주문시간</span>
                            <button type="button" class="pickup-complete-btn">고객 픽업 완료</button>
                        </div>
                        <div class="product-info">
                            <!-- 상품이미지 -->
                            <div class="product-item-img"
                                 th:style="'background-image: url(/upload_moamz/' + ${salesListDTO.productFileRoot}
                                + '/' +  ${salesListDTO.productFileUuid} + '_' + ${salesListDTO.productFileName} + ')' ">
                            </div>
                            <div class="product-wrap">
                                <p class="list-title" th:text="${salesListDTO.productName}">상품명</p>
                                <span th:text="${salesListDTO.orderPerPrice}">가격</span>원
                            </div>
                            <div class="time_wrap">
                                <p class="list-title">픽업예정시간</p>
                                <p th:text="${salesListDTO.pickupSchedule}">픽업예정시간</p>
                            </div>
                            <div class="nickname-wrap">
                                <p class="list-title">고객명</p>
                                <p th:text="${salesListDTO.normalNickname}">고객명</p>
                            </div>
                            <div class="request-wrap">
                                <p class="list-title">요청사항</p>
                                <p th:text="${salesListDTO.pickupRequest}">고객 요청사항</p>
                            </div>
                        </div>
                        <div>
                            <p class="move-to-detail" onclick="location.href=`seller/sales/detail/${salesListDTO.orderId}`">자세히 보러가기 ></p>
                        </div>
                    </li>
                </ul>
            </div>
            <!-- 픽업완료 목록 -->
            <div id="product-completed-list" class="sales-history-container hidden">
                <ul id="sales-completed-list">
                    <li class="product-list" th:each="salesListDTO : ${completedList}" th:data-id="${salesListDTO.orderId}">
                        <div class="order-info">
                            <span class="order-time" th:text="${salesListDTO.orderDate}">주문시간</span>
                        </div>
                        <div class="product-info">
                            <!-- 상품이미지 -->
                            <div class="product-item-img"
                                 th:style="'background-image: url(/upload_moamz/' + ${salesListDTO.productFileRoot}
                                + '/' +  ${salesListDTO.productFileUuid} + '_' + ${salesListDTO.productFileName} + ')' ">
                            </div>
                            <div class="product-wrap">
                                <p class="list-title" th:text="${salesListDTO.productName}">상품제목</p>
                                <span th:text="${salesListDTO.orderPerPrice}">상품가격</span>원
                            </div>
                            <div class="time_wrap">
                                <p class="list-title">픽업완료시간</p>
                                <p th:text="${salesListDTO.pickupCompleteTime}">픽업완료시간</p>
                            </div>
                            <div class="nickname-wrap">
                                <p class="list-title">고객명</p>
                                <p th:text="${salesListDTO.normalNickname}">고객이름</p>
                            </div>
                            <div class="request-wrap">
                                <p class="list-title">요청사항</p>
                                <p th:text="${salesListDTO.pickupRequest}">고객 요청사항</p>
                            </div>
                        </div>
                        <div>
                            <p class="move-to-detail" onclick="location.href=`seller/sales/detail/${salesListDTO.orderId}`">자세히 보러가기 ></p>
                        </div>
                    </li>
                </ul>
            </div>
        </section>
    </main>
    <footer id="footer" th:replace="~{/main/fragment/footer/sellerFooter}"></footer>

</body>
</html>